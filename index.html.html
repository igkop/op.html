<!DOCTYPE html>
<html>
<head>
  <title>Secure JARVIS by Samarth</title>
  <style>
    body { background:black; color:#0ff; font-family:Courier; text-align:center; padding:50px; }
    button { margin:15px; padding:15px 30px; font-size:18px; border:none; border-radius:8px; background:#0ff; color:black; cursor:pointer; }
    h2 { margin-top:30px; color:cyan; }
  </style>
</head>
<body>
  <h1>Secure JARVIS â€“ Voice Lock Active</h1>
  <button onclick="startListening()">ðŸŸ¢ Start</button>
  <h2>ðŸ¤– Built by Samarth</h2>

  <script>
    const synth = window.speechSynthesis;
    const rec = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
    rec.continuous = true; rec.lang = 'en-US';
    let listening = false;
    let unlocked = false;

    function speak(msg) {
      synth.cancel();
      const u = new SpeechSynthesisUtterance(msg);
      u.rate = 0.9;
      synth.speak(u);
    }

    function startListening() {
      if (!listening) {
        rec.start();
        listening = true;
        speak("Voice lock active. Please say password.");
      }
    }

    rec.onend = () => listening = false;
    rec.onerror = e => console.error(e);

    rec.onresult = (e) => {
      const text = e.results[e.results.length - 1][0].transcript.toLowerCase().trim();
      console.log("Heard:", text);

      if (!unlocked) {
        if (text === "okay") {
          unlocked = true;
          speak("Password accepted. JARVIS unlocked.");
        } else {
          speak("Incorrect password. Try again.");
        }
        return;
      }

      if (text.includes("hey jarvis")) {
        speak("Yes sir");
        return;
      }

      if (text.includes("hello")) {
        speak("Hello, how can I assist?");
        return;
      }
      if (text.includes("your name")) {
        speak("I am Jarvis, your assistant.");
        return;
      }
      if (text.includes("who made you")) {
        speak("I was made by Samarth.");
        return;
      }
      if (text.includes("goodbye")) {
        speak("Goodbye! Locking system.");
        unlocked = false;
        return;
      }
      if (text.includes("one plus one")){
        speak("two")
      }
       if (text.includes("oneplus one")){
        speak("two")
      }
      // ðŸ§® Math calculator
      const expr = text
        .replace(/plus/gi, "+")
        .replace(/minus/gi, "-")
        .replace(/times|x|into/gi, "*")
        .replace(/divided by|by/gi, "/")
        .replace(/\s/g, "");

      if (/^[0-9\+\-\*\/\.\(\)]+$/.test(expr)) {
        try {
          const result = eval(expr);
          speak("The answer is " + result);
        } catch {
          speak("Error in calculation.");
        }
        return;
      }

      speak("Sorry, I didn't understand.");
    };
  </script>
</body>
</html>
